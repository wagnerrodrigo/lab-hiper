<!DOCTYPE html>

<html>

<head>
   <title>Um her&oacute;i que atira</title>
   <script src="teclado.js"></script>
   <script src="heroi.js"></script>
   <script src="bola.js"></script>
   <script src="animacao.js"></script>
</head>

<body>
   <canvas id="canvas_teclado_3" width="500" height="500"></canvas>
   <script>
      var canvas = document.getElementById('canvas_teclado_3');
      var context = canvas.getContext('2d');

      var teclado = new Teclado(document);
      var animacao = new Animacao(context);

      // Um sprite pode ler o teclado para saber como se comportar, por que n√£o?
      var heroi = new Heroi(context, teclado, animacao);
      heroi.x = 0;
      heroi.y = 100;
      animacao.novoSprite(heroi);
      var imagem = new Image();
        imagem.src= './ovni.png'
        desenharPersonagem();

      teclado.disparou(ESPACO, function() {
         heroi.atirar();
      });

      function animar(){
            if( teclado.pressionada(SETA_ESQUERDA))
            posicao -=10;
            else if( teclado.pressionada(SETA_DIRETA))
            posicao +=10;
            else if( teclado.pressionada(SETA_CIMA))
            y -=10;
            else if( teclado.pressionada(SETA_BAIXO))
            y +=10;
            desenharPersonagem();
            requestAnimationFrame(animar);

      }
      function desenharPersonagem(){
          context.clearRect(0,0,canvas.width, canvas.height);
          context.drawImage(imagem,heroi.x,heroi.y,-64,32);

      }

      animacao.ligar();
   </script>
</body>

</html>
